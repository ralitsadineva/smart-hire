{% extends "base_logged_in.html" %}

{% set title = candidate[2] ~ ' ' ~ candidate[3] ~ ' - ' ~ response_title %}
{% set active_class = 'positions' %}

{% block main %}
<p class="text-center mt-5 fs-4 fw-semibold">{{ response_title }} for {{ candidate[2] }} {{ candidate[3] }}</p>
<form action="mailto:{{ candidate[4] }}" method="get" enctype="text/plain">
    <div class="mt-5 d-flex justify-content-center">
        <div class="col-8">
            <div class="row">
                <div class="col-6">
                    <div class="input-group">
                        <span for="subject" class="input-group-text" id="label">Subject:</span>
                        <input type="text" maxlength="100" class="form-control" id="subject" name="subject" value="{{ subject }}" aria-describedby="label" required>
                    </div>
                </div>
                <div class="col-4">
                    <button type="button" class="btn btn-success" onclick="copyText('subject')">Copy subject</button>
                </div>
            </div>
            <textarea class="mt-3 form-control" rows="20" id="response" name="body" required>{{ response }}</textarea>
        </div>
    </div>
    <div class="mt-3 d-flex justify-content-center">
        <div class="col-8">
            {% include 'spinner.html' %}
            <div class="mt-2 row">
                <div class="col-4 d-flex justify-content-start">
                    <a role="button" class="btn btn-success" href="{{ base_url }}positions/{{ candidate[1] }}/{{ candidate[0] }}/{{ response_link }}" onclick="document.getElementById('spinner').style.display = 'block';">Generate another one</a>
                </div>
                <div class="col-4 d-flex justify-content-center">
                    <button type="submit" class="btn btn-success">Send e-mail</button>
                </div>
                <div class="col-4 d-flex justify-content-end">
                    <button type="button" class="btn btn-success" onclick="copyText('response')">Copy response</button>
                </div>
            </div>
        </div>
    </div>
</form>
{% include 'copy_text.html' %}
{% endblock %}
